{"ast":null,"code":"import _objectSpread from \"D:\\\\Web Development 3\\\\backend\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { REGISTER_SUCCESS, REGISTER_FAIL, USER_LOADED, AUTH_ERROR, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT } from '../actions/types';\nvar initialState = {\n  token: localStorage.getItem('token'),\n  isAuthenticated: null,\n  loading: true,\n  user: null\n};\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var type = action.type,\n    payload = action.payload;\n  switch (type) {\n    case USER_LOADED:\n      return _objectSpread({}, state, {\n        isAuthenticated: true,\n        loading: false,\n        user: payload\n      });\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      localStorage.setItem('token', payload.token);\n      return _objectSpread({}, state, payload, {\n        isAuthenticated: true,\n        loading: false\n      });\n    case REGISTER_FAIL:\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n    case LOGOUT:\n      localStorage.removeItem('token');\n      return _objectSpread({}, state, {\n        token: null,\n        isAuthenticated: false,\n        loading: false\n      });\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["REGISTER_SUCCESS","REGISTER_FAIL","USER_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","initialState","token","localStorage","getItem","isAuthenticated","loading","user","state","arguments","length","undefined","action","type","payload","_objectSpread","setItem","removeItem"],"sources":["D:/Web Development 3/backend/client/src/reducers/auth.js"],"sourcesContent":["import {\r\n    REGISTER_SUCCESS,\r\n    REGISTER_FAIL,\r\n    USER_LOADED,\r\n    AUTH_ERROR,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    LOGOUT\r\n} from '../actions/types';\r\n\r\nconst initialState={\r\n    token: localStorage.getItem('token'),\r\n    isAuthenticated: null,\r\n    loading: true,\r\n    user: null\r\n}\r\n\r\nexport default function(state = initialState, action){\r\n    const { type, payload }= action;\r\n    \r\n    switch(type){\r\n        case USER_LOADED:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n                user: payload\r\n            };\r\n        case REGISTER_SUCCESS:\r\n        case LOGIN_SUCCESS:    \r\n            localStorage.setItem('token', payload.token);\r\n            return {\r\n                ...state,\r\n                ...payload,\r\n                isAuthenticated: true,\r\n                loading: false\r\n            };\r\n\r\n        case REGISTER_FAIL:\r\n        case AUTH_ERROR:\r\n        case LOGIN_FAIL:\r\n        case LOGOUT:\r\n            localStorage.removeItem('token');\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                isAuthenticated: false,\r\n                loading: false\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}"],"mappings":";AAAA,SACIA,gBAAgB,EAChBC,aAAa,EACbC,WAAW,EACXC,UAAU,EACVC,aAAa,EACbC,UAAU,EACVC,MAAM,QACH,kBAAkB;AAEzB,IAAMC,YAAY,GAAC;EACfC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACpCC,eAAe,EAAE,IAAI;EACrBC,OAAO,EAAE,IAAI;EACbC,IAAI,EAAE;AACV,CAAC;AAED,eAAe,YAAsC;EAAA,IAA7BC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGR,YAAY;EAAA,IAAEW,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAAA,IACxCE,IAAI,GAAaD,MAAM,CAAvBC,IAAI;IAAEC,OAAO,GAAIF,MAAM,CAAjBE,OAAO;EAErB,QAAOD,IAAI;IACP,KAAKjB,WAAW;MACZ,OAAAmB,aAAA,KACOP,KAAK;QACRH,eAAe,EAAE,IAAI;QACrBC,OAAO,EAAE,KAAK;QACdC,IAAI,EAAEO;MAAO;IAErB,KAAKpB,gBAAgB;IACrB,KAAKI,aAAa;MACdK,YAAY,CAACa,OAAO,CAAC,OAAO,EAAEF,OAAO,CAACZ,KAAK,CAAC;MAC5C,OAAAa,aAAA,KACOP,KAAK,EACLM,OAAO;QACVT,eAAe,EAAE,IAAI;QACrBC,OAAO,EAAE;MAAK;IAGtB,KAAKX,aAAa;IAClB,KAAKE,UAAU;IACf,KAAKE,UAAU;IACf,KAAKC,MAAM;MACPG,YAAY,CAACc,UAAU,CAAC,OAAO,CAAC;MAChC,OAAAF,aAAA,KACOP,KAAK;QACRN,KAAK,EAAE,IAAI;QACXG,eAAe,EAAE,KAAK;QACtBC,OAAO,EAAE;MAAK;IAEtB;MACI,OAAOE,KAAK;EAAC;AAEzB"},"metadata":{},"sourceType":"module"}