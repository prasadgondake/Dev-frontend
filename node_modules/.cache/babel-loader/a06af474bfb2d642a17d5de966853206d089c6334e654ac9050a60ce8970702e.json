{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{Link}from'react-router-dom';import{connect}from'react-redux';import Spinner from'../layout/Spinner';import DashboardActions from'./DashboardAction';import Experience from'./Experience';import Education from'./Education';import{deleteAccount,getCurrentProfile}from'../../actions/profile';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(_ref){var getCurrentProfile=_ref.getCurrentProfile,deleteAccount=_ref.deleteAccount,user=_ref.auth.user,_ref$profile=_ref.profile,profile=_ref$profile.profile,loading=_ref$profile.loading;useEffect(function(){getCurrentProfile();},[getCurrentProfile]);return loading&&profile===null?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"large text-primary\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"lead\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),\" Welcome \",user&&user.name]}),profile!==null?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(DashboardActions,{}),/*#__PURE__*/_jsx(Experience,{experience:profile.experience}),/*#__PURE__*/_jsx(Education,{education:profile.education}),/*#__PURE__*/_jsx(\"div\",{className:\"my-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return deleteAccount();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-minus\"}),\" Delete My Account\"]})})]}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"You have not yet setup a profile , please add some info\"}),/*#__PURE__*/_jsx(Link,{to:\"/create-profile\",className:\"btn btn-primary my-1\",children:\"Create Profile\"})]})]});};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,profile:state.profile};};export default connect(mapStateToProps,{getCurrentProfile:getCurrentProfile,deleteAccount:deleteAccount})(Dashboard);","map":{"version":3,"names":["React","Fragment","useEffect","Link","connect","Spinner","DashboardActions","Experience","Education","deleteAccount","getCurrentProfile","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","user","auth","_ref$profile","profile","loading","children","className","name","experience","education","onClick","to","mapStateToProps","state"],"sources":["F:/Projects/DevConnector/frontend/src/components/dashboard/Dashboard.js"],"sourcesContent":["import React , { Fragment, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../layout/Spinner';\r\nimport DashboardActions from './DashboardAction';\r\nimport Experience from './Experience';\r\nimport Education from './Education';\r\nimport { deleteAccount, getCurrentProfile } from '../../actions/profile';\r\n\r\nconst Dashboard = ({\r\n  getCurrentProfile,\r\n  deleteAccount,\r\n  auth: { user },\r\n  profile:{ profile, loading} \r\n}) => {\r\n  useEffect(()=>{\r\n    getCurrentProfile();\r\n  }, [getCurrentProfile]);\r\n\r\n  return loading && profile === null ? (\r\n    <Spinner/>\r\n  ) : (\r\n    <Fragment>\r\n    <h1 className = \"large text-primary\">Dashboard</h1>\r\n    <p className=\"lead\">\r\n     <i className=\"fas fa-user\"/> Welcome { user && user.name}\r\n    </p>\r\n    {profile !== null ? (\r\n     <Fragment>\r\n      <DashboardActions/>\r\n      <Experience experience={profile.experience}/>\r\n      <Education education={profile.education}/>\r\n\r\n      <div className=\"my-2\">\r\n        <button className=\"btn btn-danger\" onClick={()=>deleteAccount()}>\r\n          <i className=\"fas fa-user-minus\"></i> Delete My Account\r\n        </button>\r\n      </div>\r\n     </Fragment>\r\n    ) : (\r\n     <Fragment>\r\n      <p>You have not yet setup a profile , please add some info</p>\r\n      <Link to='/create-profile' className=\"btn btn-primary my-1\">\r\n        Create Profile\r\n      </Link>\r\n     </Fragment>\r\n    )}\r\n  </Fragment>\r\n  );\r\n};\r\n\r\nDashboard.propTypes = {\r\n  getCurrentProfile: PropTypes.func.isRequired,\r\n  deleteAccount: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  profile: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  profile: state.profile\r\n});\r\n\r\nexport default connect(mapStateToProps , {getCurrentProfile , deleteAccount})(Dashboard);\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAKC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACnD,OAASC,IAAI,KAAQ,kBAAkB,CAEvC,OAASC,OAAO,KAAQ,aAAa,CACrC,MAAO,CAAAC,OAAO,KAAM,mBAAmB,CACvC,MAAO,CAAAC,gBAAgB,KAAM,mBAAmB,CAChD,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,OAASC,aAAa,CAAEC,iBAAiB,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzE,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAAC,IAAA,CAKT,IAJJ,CAAAN,iBAAiB,CAAAM,IAAA,CAAjBN,iBAAiB,CACjBD,aAAa,CAAAO,IAAA,CAAbP,aAAa,CACLQ,IAAI,CAAAD,IAAA,CAAZE,IAAI,CAAID,IAAI,CAAAE,YAAA,CAAAH,IAAA,CACZI,OAAO,CAAGA,OAAO,CAAAD,YAAA,CAAPC,OAAO,CAAEC,OAAO,CAAAF,YAAA,CAAPE,OAAO,CAE1BnB,SAAS,CAAC,UAAI,CACZQ,iBAAiB,EAAE,CACrB,CAAC,CAAE,CAACA,iBAAiB,CAAC,CAAC,CAEvB,MAAO,CAAAW,OAAO,EAAID,OAAO,GAAK,IAAI,cAChCR,IAAA,CAACP,OAAO,IAAE,cAEVS,KAAA,CAACb,QAAQ,EAAAqB,QAAA,eACTV,IAAA,OAAIW,SAAS,CAAG,oBAAoB,CAAAD,QAAA,CAAC,WAAS,EAAK,cACnDR,KAAA,MAAGS,SAAS,CAAC,MAAM,CAAAD,QAAA,eAClBV,IAAA,MAAGW,SAAS,CAAC,aAAa,EAAE,YAAS,CAAEN,IAAI,EAAIA,IAAI,CAACO,IAAI,GACrD,CACHJ,OAAO,GAAK,IAAI,cAChBN,KAAA,CAACb,QAAQ,EAAAqB,QAAA,eACRV,IAAA,CAACN,gBAAgB,IAAE,cACnBM,IAAA,CAACL,UAAU,EAACkB,UAAU,CAAEL,OAAO,CAACK,UAAW,EAAE,cAC7Cb,IAAA,CAACJ,SAAS,EAACkB,SAAS,CAAEN,OAAO,CAACM,SAAU,EAAE,cAE1Cd,IAAA,QAAKW,SAAS,CAAC,MAAM,CAAAD,QAAA,cACnBR,KAAA,WAAQS,SAAS,CAAC,gBAAgB,CAACI,OAAO,CAAE,SAAAA,QAAA,QAAI,CAAAlB,aAAa,EAAE,EAAC,CAAAa,QAAA,eAC9DV,IAAA,MAAGW,SAAS,CAAC,mBAAmB,EAAK,qBACvC,GAAS,EACL,GACI,cAEXT,KAAA,CAACb,QAAQ,EAAAqB,QAAA,eACRV,IAAA,MAAAU,QAAA,CAAG,yDAAuD,EAAI,cAC9DV,IAAA,CAACT,IAAI,EAACyB,EAAE,CAAC,iBAAiB,CAACL,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,gBAE5D,EAAO,GAER,GAEF,CACH,CAAC,CASD,GAAM,CAAAO,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAGC,KAAK,QAAK,CAChCZ,IAAI,CAAEY,KAAK,CAACZ,IAAI,CAChBE,OAAO,CAAEU,KAAK,CAACV,OACjB,CAAC,EAAC,CAEF,cAAe,CAAAhB,OAAO,CAACyB,eAAe,CAAG,CAACnB,iBAAiB,CAAjBA,iBAAiB,CAAGD,aAAa,CAAbA,aAAa,CAAC,CAAC,CAACM,SAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}