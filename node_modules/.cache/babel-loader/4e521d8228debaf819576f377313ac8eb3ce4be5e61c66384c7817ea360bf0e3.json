{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{Link,useParams}from'react-router-dom';import{connect}from'react-redux';import Spinner from'../layout/Spinner';import PostItem from'../posts/PostItem';import CommentForm from'./CommentForm';import CommentItem from'./CommentItem';import{getPost}from'../../actions/post';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Post=function Post(_ref){var getPost=_ref.getPost,_ref$post=_ref.post,post=_ref$post.post,loading=_ref$post.loading;var _useParams=useParams(),id=_useParams.id;useEffect(function(){getPost(id);},[getPost,id]);return loading||post===null?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/posts\",className:\"btn\",children:\"Back to Posts\"}),/*#__PURE__*/_jsx(PostItem,{post:post,showActions:false}),/*#__PURE__*/_jsx(CommentForm,{postId:post._id}),/*#__PURE__*/_jsx(\"div\",{className:\"comments\",children:post.comments.map(function(comment){return/*#__PURE__*/_jsx(CommentItem,{comment:comment,postId:post._id},comment._id);})})]});};var mapStateToProps=function mapStateToProps(state){return{post:state.post};};export default connect(mapStateToProps,{getPost:getPost})(Post);","map":{"version":3,"names":["React","Fragment","useEffect","Link","useParams","connect","Spinner","PostItem","CommentForm","CommentItem","getPost","jsx","_jsx","jsxs","_jsxs","Post","_ref","_ref$post","post","loading","_useParams","id","children","to","className","showActions","postId","_id","comments","map","comment","mapStateToProps","state"],"sources":["F:/Projects/DevConnector/frontend/src/components/post/Post.js"],"sourcesContent":["import React, { Fragment, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../layout/Spinner';\r\nimport PostItem from '../posts/PostItem';\r\nimport CommentForm from './CommentForm';\r\nimport CommentItem from './CommentItem';\r\nimport { getPost } from '../../actions/post';\r\n\r\nconst Post = ({ getPost, post: { post, loading } }) => {\r\n    const { id } = useParams();\r\n    useEffect(() => {\r\n      getPost(id);\r\n    }, [getPost, id]);\r\n\r\n    return loading || post === null ? (\r\n        <Spinner/>\r\n    ) : (\r\n        <Fragment>\r\n            <Link to ='/posts' className='btn'>\r\n                Back to Posts\r\n            </Link>\r\n            <PostItem post={post} showActions={false}/>\r\n            <CommentForm postId={post._id}/>\r\n            <div className=\"comments\">\r\n            {post.comments.map(comment=>(\r\n                <CommentItem key={comment._id} comment={comment} postId={post._id}/>\r\n            ))}\r\n            </div>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nPost.propTypes = {\r\n    getPost: PropTypes.func.isRequired,\r\n    post: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    post: state.post\r\n});\r\n\r\nexport default connect (mapStateToProps , {getPost})(Post);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAElD,OAASC,IAAI,CAAEC,SAAS,KAAQ,kBAAkB,CAClD,OAASC,OAAO,KAAQ,aAAa,CACrC,MAAO,CAAAC,OAAO,KAAM,mBAAmB,CACvC,MAAO,CAAAC,QAAQ,KAAM,mBAAmB,CACxC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAASC,OAAO,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7C,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAAC,IAAA,CAA6C,IAAvC,CAAAN,OAAO,CAAAM,IAAA,CAAPN,OAAO,CAAAO,SAAA,CAAAD,IAAA,CAAEE,IAAI,CAAIA,IAAI,CAAAD,SAAA,CAAJC,IAAI,CAAEC,OAAO,CAAAF,SAAA,CAAPE,OAAO,CAC1C,IAAAC,UAAA,CAAehB,SAAS,EAAE,CAAlBiB,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACVnB,SAAS,CAAC,UAAM,CACdQ,OAAO,CAACW,EAAE,CAAC,CACb,CAAC,CAAE,CAACX,OAAO,CAAEW,EAAE,CAAC,CAAC,CAEjB,MAAO,CAAAF,OAAO,EAAID,IAAI,GAAK,IAAI,cAC3BN,IAAA,CAACN,OAAO,IAAE,cAEVQ,KAAA,CAACb,QAAQ,EAAAqB,QAAA,eACLV,IAAA,CAACT,IAAI,EAACoB,EAAE,CAAE,QAAQ,CAACC,SAAS,CAAC,KAAK,CAAAF,QAAA,CAAC,eAEnC,EAAO,cACPV,IAAA,CAACL,QAAQ,EAACW,IAAI,CAAEA,IAAK,CAACO,WAAW,CAAE,KAAM,EAAE,cAC3Cb,IAAA,CAACJ,WAAW,EAACkB,MAAM,CAAER,IAAI,CAACS,GAAI,EAAE,cAChCf,IAAA,QAAKY,SAAS,CAAC,UAAU,CAAAF,QAAA,CACxBJ,IAAI,CAACU,QAAQ,CAACC,GAAG,CAAC,SAAAC,OAAO,qBACtBlB,IAAA,CAACH,WAAW,EAAmBqB,OAAO,CAAEA,OAAQ,CAACJ,MAAM,CAAER,IAAI,CAACS,GAAI,EAAhDG,OAAO,CAACH,GAAG,CAAuC,EACvE,CAAC,EACI,GAEb,CACL,CAAC,CAOD,GAAM,CAAAI,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAGC,KAAK,QAAK,CAC9Bd,IAAI,CAAEc,KAAK,CAACd,IAChB,CAAC,EAAC,CAEF,cAAe,CAAAb,OAAO,CAAE0B,eAAe,CAAG,CAACrB,OAAO,CAAPA,OAAO,CAAC,CAAC,CAACK,IAAI,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}