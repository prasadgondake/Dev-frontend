{"ast":null,"code":"import React,{Fragment}from'react';import{Link}from'react-router-dom';import Moment from'react-moment';import{connect}from'react-redux';import{addLike,removeLike,deletePost}from'../../actions/post';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostItem=function PostItem(_ref){var addLike=_ref.addLike,removeLike=_ref.removeLike,deletePost=_ref.deletePost,auth=_ref.auth,_ref$post=_ref.post,_id=_ref$post._id,text=_ref$post.text,name=_ref$post.name,avatar=_ref$post.avatar,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date,showActions=_ref.showActions;return/*#__PURE__*/_jsxs(\"div\",{className:\"post bg-white p-1 my-1\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(user),children:[/*#__PURE__*/_jsx(\"img\",{className:\"round-img\",src:avatar,alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:name})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-1\",children:text}),/*#__PURE__*/_jsxs(\"p\",{className:\"post-date\",children:[\"Posted on \",/*#__PURE__*/_jsx(Moment,{format:\"YYYY/MM/DD\",children:date})]}),showActions&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(e){return addLike(_id);},type:\"button\",className:\"btn btn-light\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-up\"}),' ',/*#__PURE__*/_jsx(\"span\",{children:likes.length>0&&/*#__PURE__*/_jsx(\"span\",{children:likes.length})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return removeLike(_id);},type:\"button\",className:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-down\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-primary\",children:[\"Discussion \",' ',comments.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"comment-count\",children:comments.length})]}),!auth.loading&&user===auth.user._id&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return deletePost(_id);},type:\"button\",className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})]})]});};PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{addLike:addLike,removeLike:removeLike,deletePost:deletePost})(PostItem);","map":{"version":3,"names":["React","Fragment","Link","Moment","connect","addLike","removeLike","deletePost","jsx","_jsx","jsxs","_jsxs","PostItem","_ref","auth","_ref$post","post","_id","text","name","avatar","user","likes","comments","date","showActions","className","children","to","concat","src","alt","format","onClick","e","type","length","loading","defaultProps","mapStateToProps","state"],"sources":["F:/Projects/DevConnector/frontend/src/components/posts/PostItem.js"],"sourcesContent":["import React, { Fragment }  from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport Moment from 'react-moment';\r\nimport { connect } from 'react-redux';\r\nimport { addLike , removeLike , deletePost} from '../../actions/post';\r\n\r\nconst PostItem = ({\r\n    addLike,\r\n    removeLike,\r\n    deletePost,\r\n    auth,\r\n    post: { _id , text , name , avatar , user , likes , comments , date},\r\n    showActions\r\n}) => (\r\n    <div className=\"post bg-white p-1 my-1\">\r\n          <div>\r\n            <Link to={`/profile/${user}`}>\r\n              <img\r\n                className=\"round-img\"\r\n                src={avatar}\r\n                alt=\"\"\r\n              />\r\n              <h4>{name}</h4>\r\n            </Link>\r\n          </div>\r\n          <div>\r\n            <p className=\"my-1\">\r\n              {text}\r\n            </p>\r\n             <p className=\"post-date\">\r\n                Posted on <Moment format='YYYY/MM/DD'>{date}</Moment>\r\n            </p>\r\n            \r\n            {showActions && (\r\n             <Fragment>\r\n              <button onClick={e => addLike(_id)} type=\"button\" className=\"btn btn-light\">\r\n              <i className=\"fas fa-thumbs-up\"/>{' '}\r\n              <span>{likes.length > 0 && (\r\n                 <span>{likes.length}</span>\r\n              )}</span>\r\n            </button>\r\n            <button onClick={e => removeLike(_id)} type=\"button\" className=\"btn btn-light\">\r\n              <i className=\"fas fa-thumbs-down\"></i>\r\n            </button>\r\n            <Link to={`/posts/${_id}`} className=\"btn btn-primary\">\r\n              Discussion {' '}\r\n              {comments.length > 0 && (\r\n                 <span className='comment-count'>{comments.length}</span>\r\n              )}\r\n            </Link>\r\n            {!auth.loading && user === auth.user._id && (\r\n            <button onClick={e => deletePost(_id)} type=\"button\" className=\"btn btn-danger\">\r\n               <i className=\"fas fa-times\"/>\r\n            </button>\r\n            )}\r\n            </Fragment>\r\n           )}\r\n          </div>\r\n        </div>\r\n);\r\n\r\nPostItem.defaultProps={\r\n  showActions: true\r\n};\r\n\r\nPostItem.propTypes = {\r\n  post: PropTypes.object.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  addLike: PropTypes.func.isRequired,\r\n  removeLike: PropTypes.func.isRequired,\r\n  deletePost: PropTypes.func.isRequired,\r\n  showActions: PropTypes.bool\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps , {addLike , removeLike , deletePost})(PostItem)\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}